# 项目重新初始化说明

## 已完成的操作

1. ✅ **代码回退**: 已回退到 commit `f6538d8` (update readme)
2. ✅ **后端编译**: 已重新编译后端项目，编译成功
3. ✅ **数据库初始化脚本**: 已创建 `init-database.sh` 脚本

## 需要手动完成的操作

### 1. 数据库初始化

由于无法自动确定 MySQL 密码，请手动执行以下步骤：

#### 方法一：使用脚本（推荐）

```bash
# 执行初始化脚本，脚本会提示输入密码
./init-database.sh
```

#### 方法二：手动执行 SQL

```bash
# 1. 连接到 MySQL（根据实际情况输入密码）
mysql -u root -p

# 2. 在 MySQL 中执行以下命令
DROP DATABASE IF EXISTS `ry-vue`;
CREATE DATABASE `ry-vue` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
USE `ry-vue`;

# 3. 退出 MySQL，然后导入 SQL 文件
exit

# 4. 导入主数据库脚本
mysql -u root -p ry-vue < sql/ry_react.sql

# 5. 导入 Quartz 脚本（可选）
mysql -u root -p ry-vue < sql/quartz.sql
```

### 2. 检查数据库配置

确认 `ruoyi-admin/src/main/resources/application-druid.yml` 中的数据库配置正确：

```yaml
spring:
    datasource:
        druid:
            master:
                url: jdbc:mysql://localhost:3306/ry-vue?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8
                username: root
                password: [你的MySQL密码]
```

### 3. 启动后端服务

```bash
# 如果已编译，直接运行 JAR
cd ruoyi-admin/target
java -jar ruoyi-admin.jar

# 或者使用 Maven 运行
cd ruoyi-admin
mvn spring-boot:run
```

### 4. 启动前端服务

```bash
cd react-ui
npm install  # 如果依赖未安装
npm start
```

## 默认账号信息

- **管理员账号**: admin
- **管理员密码**: admin123
- **测试账号**: ry
- **测试密码**: admin123

## 当前项目状态

- **Git 版本**: f6538d8 (update readme)
- **后端端口**: 8080 (请检查是否与 Nacos 冲突)
- **前端端口**: 8000
- **数据库名称**: ry-vue

## 注意事项

1. 如果后端端口 8080 被占用（如 Nacos），请修改 `application.yml` 中的端口号
2. 确保 Redis 服务已启动（默认端口 6379）
3. 确保 MySQL 服务已启动（默认端口 3306）

