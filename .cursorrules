一直用中文和我沟通
每次每次修改代码都要在commit信息中说明修改内容，不要使用默认的commit信息。
nacos版本是3.1 8080端口是nacos界面服务的端口，8848端口是nacos api的端口。
页面每次修改后直接发布，我能在浏览器直接看到最新效果


1. 项目概述与设计目标

信息
详情
文档版本
V1.0
创建日期
2025年11月10日
系统定位
具备智能化辅助和可视化汇报能力的档案集中管理平台。
目标受众
开发/测试团队、项目管理层、档案管理员。
1.1 项目背景与核心痛点
* 查找困难： 纸质档案和扫描件查找麻烦，文件分散。
* 不可搜索： 大量扫描件、图纸不可搜索，信息利用率低。
* 汇报耗时： 人工整理统计数据进行汇报耗时耗力。
1.2 核心价值与设计原则
核心价值
详细说明
智能化应用
通过 OCR 技术实现对所有扫描件的全文检索；利用 AI 辅助档案员完成摘要和标签的生成。
项目兼容性
在数据底层预留独立的项目实体表，确保第一期系统能够为未来引入项目管理流程和档、管一体化做无缝准备。
数据溯源性
任何对档案的修改都会被版本控制和操作日志完整记录，满足审计和追溯的要求。

2. 权限与角色设计 (RBAC 模型)

系统采用严格的 RBAC 模型，确保职责分离和最小权限原则。
角色名称
核心职责与业务价值
关键权限逻辑（功能点）
管理员 (Admin)
系统守卫者。负责维护系统稳定、配置核心规范、处理异常数据。
最高权限： 拥有所有增、改、查权限；唯一能执行逻辑删除和回收站数据管理；负责系统的可配置性维护。
档案员 (Archivist)
数据生产者。负责档案的日常入库、规范著录和信息维护。
全面操作： 文件的采集**（增）、元数据修改（改）**、版本更新、以及档案的全部查阅权限。
查阅员 (Viewer)
信息使用者。利用档案信息支持日常工作。
只读权限： 只能进行检索、预览和下载最新版本的操作。

3. 核心功能模块设计

3.1 档案采集与著录（数据的“增”与规范化）
本模块旨在解决文件“不可搜索”和“归档不规范”的痛点。
流程环节
详尽设计逻辑
智能化/规范化要求
文件上传与 OCR
上传限制： 第一期只允许上传单个 PDF 或 Word 文件。OCR 集成： 文件上传后，系统自动执行 OCR，识别图片中的文字，形成可搜索的文本层。
解决不可搜索痛点： 确保所有扫描件内容都能被系统检索。
项目强制关联
著录流程的第一步，档案员必须从列表中选择该档案所属的唯一项目编号（Project_ID）。
未来兼容性： 数据强制绑定到项目实体，为后续项目管理做兼容。
智能辅助著录
档案员填写元数据。分类必须通过树状选择器选择管理员预先配置的体系。
AI 建议： 系统利用 AI 自动生成摘要和标签建议。档案员需审核并确认后应用。
档号自动生成
依据所选的Project_ID、分类编码和规则，系统自动生成一个在全系统范围内唯一的档案编号。
避免人工错误： 保证档案命名体系的唯一性和一致性。
3.2 档案检索与利用（数据的“查”与利用）
目标：实现毫秒级的精准、多维度档案定位。
功能点
详尽设计逻辑
业务价值
全文检索
强大的搜索能力： 同时搜索档案的元数据和文件内容（基于 OCR 文本层）。
无死角查找： 无论信息在何处，都能被找到。
高级组合检索
支持用户通过设置多个筛选条件（如：按项目、阶段、标签、密级）进行组合查询。
精准定位： 快速缩小查询范围，解决档案量大导致的查找困难。
档案详情页
结构化展示： 详情页分为“文件预览”、“完整元数据”、“版本历史”、“操作日志”四个区域。
信息集中： 所有档案信息和历史记录在一个界面展示。
安全利用
查阅员只允许下载最新版本文件；下载操作会被记录到操作日志。
数据安全： 保证用户只能获取最新的、符合权限范围的信息。
3.3 修改与溯源性（数据的“改”与追溯）
目标：确保档案数据不可篡改，任何变动可追溯。
操作类型
详尽设计逻辑
溯源性要求与约束
元数据修改
档案员修改后，系统必须在 T_AUDIT_LOG 中详细记录修改前后的值，确保审计强制性。
可追溯性： 谁、何时、修改了哪些字段，一目了然。
文件内容修改
禁止覆盖： 强制要求用户点击**“上传新版本”**。新上传的文件成为最新版本 (如 V2.0)。
版本控制： 历史版本的文件数据被保留并锁定，用户可以随时回溯任一历史版本文件。
3.4 删除与数据维护（数据的“删”与安全）
目标：防止数据被意外或恶意删除，保留测试数据的清理机制。
操作类型
详尽设计逻辑
业务目的与安全保障
逻辑删除
权限隔离： 仅限管理员。系统将档案的状态字段标记为“逻辑已删除”。
数据安全： 数据仍保留在数据库中。该档案在所有普通角色的界面中自动完全隐藏。
回收站管理
仅供管理员访问的后台界面，显示所有被逻辑删除的档案。
数据清理： 管理员可在此界面执行**“恢复”或“彻底清理”**（永久移除）。

4. 可视化与系统配置

4.1 可视化驾驶舱 (默认主页)
目标：将数据转化为业务洞察，支持管理层快速决策。
统计维度
详尽设计逻辑
业务价值与效益
项目地理分布
GIS 地图： 在地图上展示所有公交站台项目的精确坐标。使用颜色和图标来实时反映项目的当前建设状态。
宏观掌控： 领导一登录即可看到项目的空间分布和整体状态。
档案完整度
对比仪表盘： 统计各项目、各建设阶段的应归档档案数与实际已归档数的对比。
管理聚焦： 快速定位到档案缺失、需要催交的环节。
数据统计
图表展示按文件类型和建设阶段的档案数量分布，以及近期的档案新增趋势。
结构分析： 辅助分析档案结构是否合理，掌握归档工作量变化。
4.2 系统配置与拓展性
* 档案分类管理： 管理员在配置模块中维护树状结构的分类体系，配置分类编码，确保系统具备弹性，能应对未来全公司范围的档案管理需求。
* 标签字典管理： 管理员维护全局标签字典，用于规范 AI 辅助打标和人工打标的行为。
* 权限功能细分： 管理员可精细配置每个角色对具体操作功能点（如“下载图纸”、“修改密级”）的权限，实现最严格的权限管控。

